---
title: How Do I Handle HTTP/S traffic?
description: Learn how to create HTTP/S endpoints with ngrok.
---

import StaticDomainAgentConfigExample from "/examples/agent-config/http-static-domain.mdx";
import StaticDomainKubernetesExample from "/examples/k8s/http-static-domain.mdx";

import TabItem from "@theme/TabItem";
import Tabs from "@theme/Tabs";

import { LangSwitcher } from "@site/src/components/LangSwitcher";

You can create HTTP/S endpoints to serve web services like REST APIs, web applications, websites and websocket servers.

## Quickstart

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-endpoint" label="Agent Endpoint">
	[Agent Endpoints](/agent/) are the easiest way to create an HTTP/S endpoint. You can start agent endpoints on your local machine. The endpoint wil llive for the lifetime of the process and forward traffic to a port or URL of your choosing.

    The following example creates the endpoint `https://example.ngrok.app` and forwards its traffic to a local port.

    <LangSwitcher>
    ```bash
    ngrok http 8080 --url https://example.ngrok.app
    ```
    ```sh tabName="SSH"
    ssh -R example.ngrok.app:443:localhost:8080 v2@connect.ngrok-agent.com http
    ```
    ```go
    import (
    	"context"
    	"net"

    		"golang.ngrok.com/ngrok"
    		"golang.ngrok.com/ngrok/config"

    )

    func ngrokListener(ctx context.Context) (net.Listener, error) {
    upstreamURL, \_ := url.Parse("http://localhost:8080")
    return ngrok.ListenAndForward(ctx,
    upstreamURL,
    config.HTTPEndpoint(
    config.WithURL("https://example.ngrok.app"),
    ),
    ngrok.WithAuthtokenFromEnv(),
    )
    }

    ```
    ```jsx
    const ngrok = require("@ngrok/ngrok");

    (async function () {
    	const listener = await ngrok.forward({
    		addr: 8080,
    		authtoken_from_env: true,
    		domain: "example.ngrok.app",
    	});

    	console.log(`Ingress established at: ${listener.url()}`);
    })();
    ```

    ```python
    import ngrok

    listener = ngrok.forward("localhost:8080", authtoken_from_env=True,
    		domain="example.ngrok.app")

    print(f"Ingress established at: {listener.url()}");
    ```

    ```rust
    use ngrok::prelude::*;

    async fn listen_ngrok() -> anyhow::Result<impl Tunnel> {
    		let sess = ngrok::Session::builder()
    				.authtoken_from_env()
    				.connect()
    				.await?;

    		let tun = sess
    				.http_endpoint()
    				.domain("example.ngrok.app")
    				.listen()
    				.await?;

    		println!("Listening on URL: {:?}", tun.url());

    		Ok(tun)
    }
    ```

    </LangSwitcher>

    </TabItem>
    <TabItem value="cloud-endpoint" label="Cloud Endpoint">

[Cloud endpoints](/universal-gateway/cloud-endpoints/) are created via [the ngrok Dashboard](https://dashboard.ngrok.com/endpoints/new) or [API](/api/). They are persistent and live until they are deleted. [Traffic Policy](/traffic-policy/) controls how a cloud endpoint handles traffic.

To create an HTTPS cloud endpoint which returns a `Hello world!` `200 OK` response, you can add the following to your Cloud Endpoint's Traffic Policy in the ngrok Dashboard:

```yaml
on_http_request:
  - actions:
      - type: custom-response
        config:
          status_code: 200
          headers:
            content-type: text/plain
          content: "Hello world!"
```

If you want to add it with the API instead, you can save that policy to a local file, then run the following command in your terminal, referencing the file you created:

```sh title="Command line"
ngrok api endpoints create \
  --url https://example.ngrok.app \
  --traffic-policy "$(<traffic-policy.yml)"
```

    	</TabItem>
    <TabItem value="k8s" label="Kubernetes Controller">

    	Follow the [ngrok Kubernetes Controller documentation](https://ngrok.com/docs/k8s/guides/quickstart/) to get started using ngrok with Kubernetes. You can use the following service definition to create an HTTP endpoint:

    <StaticDomainKubernetesExample />


    </TabItem>
    <TabItem value="agent-config" label="Agent Config File">

    You can create an HTTP/S endpoint using the [ngrok agent configuration file](/docs/traffic-policy/getting-started/agent-endpoints/config-file). You can edit the file with the following terminal command:

    ```bash
    ngrok config edit
    ```

    Specify the endpoint URL in your configuration as shown in the following example:

    <StaticDomainAgentConfigExample />

    Then, start the agent with the following command:

    ```bash
    ngrok http 8080
    ```
    	</TabItem>

</Tabs>

## Learn more

- **URL Validation** — URLs are validated differently depending on their [binding](/universal-gateway/bindings). To learn more about valid URLs for HTTP/S endpoints, see [the Endpoint URLs documentation](/docs/universal-gateway/what-are-endpoint-urls/#http).
- **Domains** — Public HTTP/S endpoints must match a domain on your account. See [the domains documentation](/universal-gateway/domains/what-are-domains/) for more information.
- **Bring your own domain** — To use your own domain with HTTP/S endpoints, see [the guide on the subject](/universal-gateway/bring-your-own-domain).
- **Wildcard Endpoints** — You can create HTTP/S endpoints that receive traffic from all of the subdomains matching a given wildcard domain. See [the wildcard domain docs](/universal-gateway/wildcard-domains/) for more information.
- **Traffic Policy** — Attach [Traffic Policy](/traffic-policy/) to endpoints to route, authenticate and transform the traffic through the endpoint.
- **Agent Forwarding** — The [ngrok agent](/agent/) and [Agent SDKs](/agent-sdks/) forward traffic that your endpoints receive to upstream services. See [the agent forwarding documentation](/universal-gateway/agent-forwarding/) for more information.
- **Traffic Observability** — [Traffic Inspector](/obs/traffic-inspection/) gives you a real-time view in the ngrok dashboard of the HTTP traffic flowing through your HTTP/S endpoints. You can even [export traffic logs with the Traffic Events system](/docs/obs/events/reference/#traffic-events).
- **TLS** — Learn how [ngrok automatically handles TLS](/universal-gateway/tls-certificates/how-does-ngrok-handle-tls/) and [TLS termination](/universal-gateway/tls/tls-termination/) for HTTP/S endpoints for you.

## Errors

Learn how ngrok handles errors for HTTP/S endpoints in the [Errors documentation](/errors/#http-errors).

## API

HTTP/S Endpoints can be created programatically. Consult the documentation on [Endpoint APIs](/api/resources/endpoints/).

## Limits & pricing

HTTP/S endpoints are available on all plans. Consult the [pricing](/pricing-limits/) documentation for general billing details.

For HTTP/S limits, see the [endpoint Limits documentation](/pricing-limits/endpoint-limits/).
