---
sidebar_label: Chaining Endpoints Together
title: How Do I Chain Endpoints?
description: Learn how to route traffic from one endpoint to multiple other endpoints based on request attributes.
---

import ConfigExample from "/src/components/ConfigExample.tsx";

You can route traffic from one endpoint to multiple other endpoints based on request attributes such as the URL, hostname, path, cookies, or headers.

See the [Traffic Policy Action request variables documentation](/docs/traffic-policy/variables/req/) for a full list of request attributes you can use.

## Example

This rule forwards requests containing a `X-Endpoint-Name: {ENDPOINT}` header to `https://{ENDPOINT}.internal`.

<ConfigExample
	config={{
		on_http_request: {
			actions: [
				{
					type: "forward-internal",
					config: {
						url: "https://${getReqHeader('X-Endpoint-Name')[0]}.internal",
					},
				},
			],
		},
	}}
/>
